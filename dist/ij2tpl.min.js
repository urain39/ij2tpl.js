(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof global!=="undefined"){r=global}else if(typeof self!=="undefined"){r=self}else{r=this}r.IJ2TPL=e()}})(function(){var e,r,t;return function(){function c(a,o,f){function s(t,e){if(!o[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=o[t]={exports:{}};a[t][0].call(i.exports,function(e){var r=a[t][1][e];return s(r||e)},i,i.exports,c,a,o,f)}return o[t].exports}for(var u="function"==typeof require&&require,e=0;e<f.length;e++)s(f[e]);return s}return c}()({1:[function(e,r,t){"use strict";var n;t.__esModule=true;t.parse=t.Renderer=t.Context=t.escapeHTML=t.tokenize=t.version=void 0;t.version="0.0.3-dev";if(!Array.isArray){var i={}.toString;Array.isArray=function(e){return i.call(e)==="[object Array]"}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^[\s\xA0\uFEFF]+|[\s\xA0\uFEFF]+$/g,"")}}var p={"?":0,"!":1,"*":2,"/":3,"#":5};function a(e,r,t){var n,i,a=[7,"^"],o=[];for(var f=0,s=0,u=e.length,c=r.length,l=t.length;f<u;){s=e.indexOf(r,f);if(s===-1){i=e.slice(f);if(i)a=[4,i],o.push(a);break}i=e.slice(f,s);s+=c;if(i)a=[4,i],o.push(a);f=e.indexOf(t,s);if(f===-1)throw new SyntaxError("No matching prefix '"+r+"'");i=e.slice(s,f);f+=l;if(!i)continue;i=i.trim();n=i[0];switch(n){case"?":case"!":case"*":case"/":if(a[0]===4){if(/(?:^|[\n\r])[\t \xA0\uFEFF]+$/.test(a[1]))a[1]=a[1].replace(/[\t \xA0\uFEFF]+$/g,"");if(!a[1])o.pop()}if(f<u){switch(e[f]){case"\n":f+=1;break;case"\r":f+=e.charAt(f+1)==="\n"?2:1;break}}case"#":i=i.slice(1).trim();a=[p[n],i],o.push(a);break;case"-":break;default:a=[6,i],o.push(a);break}}return o}t.tokenize=a;var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","=":"&#x3D;","/":"&#x2F;"};function c(e){return String(e).replace(/[&<>"'`=/]/g,function(e){return o[e]})}t.escapeHTML=c;var u={}.hasOwnProperty;var l=function(){function e(e,r){this.data=e;this.parent=r;this.cache={".":this.data}}e.prototype.resolve=function(e){var r,t,n=null,i=this;t=i.cache;if(u.call(t,e)){n=t[e]}else{if(e.indexOf(".")>0){var a=void 0,o=e.split(".");a=o[0];for(;i;i=i.parent){r=i.data;if(r&&u.call(r,a)){n=r[a];for(var f=1,s=o.length;f<s;f++){a=o[f];if(n&&u.call(n,a)){n=n[a]}else{n=null;break}}break}}}else{for(;i;i=i.parent){r=i.data;if(r&&u.call(r,e)){n=r[e];break}}}if(typeof n==="function")n=n(i);t[e]=n}return n};return e}();t.Context=l;var f=function(){function e(e){this.treeRoot=e}e.prototype.renderTree=function(e,r){var t,n="";for(var i=0,a=e;i<a.length;i++){var o=a[i];switch(o[0]){case 0:t=r.resolve(o[1]);if(!t)continue;else if(Array.isArray(t))for(var f=0,s=t;f<s.length;f++){var u=s[f];n+=this.renderTree(o[2],new l(u,r))}else n+=this.renderTree(o[2],new l(t,r));break;case 1:t=r.resolve(o[1]);if(!t||Array.isArray(t)&&t.length<1)n+=this.renderTree(o[2],r);break;case 4:n+=o[1];break;case 5:t=r.resolve(o[1]);if(t!=null)n+=t;break;case 6:t=r.resolve(o[1]);if(t!=null)n+=typeof t==="number"?t:c(t);break}}return n};e.prototype.render=function(e){return this.renderTree(this.treeRoot,new l(e,null))};return e}();t.Renderer=f;var s=(n={},n[0]="?",n[1]="!",n[2]="*",n[3]="/",n[5]="#",n);function h(e){var r,t=[],n=[],i=n;for(var a=0,o=e;a<o.length;a++){var f=o[a];switch(f[0]){case 0:case 1:i.push(f);r=f;t.push(r);i=r[2]=[];break;case 3:r=t.pop();if(!r||f[1]!==r[1])throw new SyntaxError("Unexpected token '<type="+s[f[0]]+", value="+f[1]+">'");t.length>0?i=t[t.length-1][2]:i=n;break;default:i.push(f);break}}if(t.length>0){r=t.pop();throw new SyntaxError("No matching section '<type="+s[r[0]]+", value="+r[1]+">'")}return n}function d(e,r,t){if(r===void 0){r="{"}if(t===void 0){t="}"}var n=h(a(e,r,t));return new f(n)}t.parse=d},{}]},{},[1])(1)});